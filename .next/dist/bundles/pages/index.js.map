{"version":3,"sources":["webpack/bootstrap 5f1adf22c4bca780985b","/Users/marianzikmund/programming/studium/kiwiform-upload/components/DestinationPicker.js","/Users/marianzikmund/programming/studium/kiwiform-upload/components/HeaderSearch.js","/Users/marianzikmund/programming/studium/kiwiform-upload/pages/index.js","external \"axios\"","external \"babel-runtime/regenerator\"","external \"moment\"","external \"next/link\"","external \"next/router\"","external \"prop-types\"","external \"react\"","external \"react-datepicker\"","external \"react-select\""],"names":["DestinationPicker","state","locations","onInputChange","bind","onChange","props","value","length","fetchLocations","typeDestination","onSelectDestination","searchById","axios","get","locationsFromAPI","setState","data","map","location","id","label","name","title","propTypes","PropTypes","string","func","HeaderSearch","origin","destination","departureDate","onChangeDate","search","query","moment","add","destinationCode","searchQuery","format","alert","Router","push","pathname","object","isRequired","Home","prefetch","url"],"mappings":"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","file":"bundles/pages/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5f1adf22c4bca780985b","import React, { Component } from \"react\";\nimport Select from \"react-select\";\nimport axios from \"axios\";\nimport PropTypes from \"prop-types\";\n\nclass DestinationPicker extends Component {\n  constructor() {\n    super();\n    this.state = {\n      locations: []\n    };\n    this.onInputChange = this.onInputChange.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    // preferably solvable by redux or graphql, but easy and quick enough for now\n    if (this.props.value && this.state.locations.length === 0) {\n      this.fetchLocations(this.props.value, true);\n    }\n  }\n\n  onInputChange(value) {\n    const { typeDestination, onSelectDestination } = this.props;\n    if (value.length > 2) {\n      this.fetchLocations(value);\n    }\n  }\n\n  onChange(value) {\n    const { typeDestination, onSelectDestination } = this.props;\n    onSelectDestination(typeDestination, value.value);\n  }\n\n  async fetchLocations(value, searchById = false) {\n    const locationsFromAPI = await axios.get(\n      \"https://api.skypicker.com/locations/\" +\n        (!searchById ? \"?term=\" + value + \"&v=2\" : \"?type=id&id=\" + value) +\n        \"&locale=en-US\"\n    );\n\n    this.setState({\n      locations: locationsFromAPI.data.locations.map(location => ({\n        value: location.id,\n        label: location.name\n      }))\n    });\n  }\n\n  render() {\n    const { value, title } = this.props;\n    return (\n      <div className=\"header-search-input-wrapper\">\n        <span className=\"header-search-input-title\">{title}</span>\n        <Select\n          onInputChange={this.onInputChange}\n          value={value}\n          clearable={false}\n          arrowRenderer={null}\n          onSelectResetsInput={false}\n          options={this.state.locations}\n          searchPromptText=\"\"\n          placeholder=\"Type in airport/place\"\n          noResultsText={false}\n          onChange={this.onChange}\n        />\n      </div>\n    );\n  }\n}\n\nDestinationPicker.propTypes = {\n  typeDestination: PropTypes.string,\n  value: PropTypes.string,\n  title: PropTypes.string,\n  onSelectDestination: PropTypes.func\n};\n\nexport default DestinationPicker;\n\n\n\n// WEBPACK FOOTER //\n// ./components/DestinationPicker.js","import React, { Component } from \"react\";\nimport Router from \"next/router\";\nimport Link from \"next/link\";\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\nimport PropTypes from \"prop-types\";\n\nimport DestinationPicker from \"./DestinationPicker\";\n\nclass HeaderSearch extends Component {\n  constructor() {\n    super();\n    this.state = {\n      origin: \"\",\n      destination: \"\",\n      departureDate: \"\"\n    };\n    this.onSelectDestination = this.onSelectDestination.bind(this);\n    this.onChangeDate = this.onChangeDate.bind(this);\n    this.search = this.search.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.query && this.props.query.departureDate) {\n      this.setState({\n        departureDate: moment(this.props.query.departureDate),\n        origin: this.props.query.origin,\n        destination: this.props.query.destination\n      });\n    } else {\n      this.setState({ departureDate: moment().add(\"2\", \"days\") });\n    }\n  }\n\n  onSelectDestination(typeDestination, destinationCode) {\n    if (!destinationCode) return;\n    this.setState({\n      [typeDestination]: destinationCode\n    });\n  }\n\n  onChangeDate(departureDate) {\n    this.setState({ departureDate });\n  }\n\n  search() {\n    const searchQuery = {\n      ...this.state,\n      departureDate: moment(this.state.departureDate).format(\"YYYY-MM-DD\")\n    };\n\n    if (!searchQuery.origin) return alert(\"Please fill in where to fly from.\");\n    if (!searchQuery.destination)\n      return alert(\"Please fill in where you want to fly.\");\n    if (!searchQuery.departureDate)\n      return alert(\"Please fill in the desired date of the flight.\");\n\n    Router.push({\n      pathname: \"/results\",\n      query: searchQuery\n    });\n  }\n\n  render() {\n    const { query } = this.props;\n\n    return (\n      <div className=\"header\">\n        <Link href=\"/\">\n          <a>\n            <img src=\"/static/logo.jpg\" alt=\"Kiwi.com\" className=\"logo\" />\n          </a>\n        </Link>\n        <div className=\"header-search\">\n          <div className=\"tablet-third\">\n            <DestinationPicker\n              title=\"From\"\n              value={this.state.origin || query.origin}\n              onSelectDestination={this.onSelectDestination}\n              typeDestination=\"origin\"\n            />\n          </div>\n          <div className=\"tablet-third\">\n            <DestinationPicker\n              title=\"To\"\n              value={this.state.destination || query.destination}\n              onSelectDestination={this.onSelectDestination}\n              typeDestination=\"destination\"\n            />\n          </div>\n          <div className=\"tablet-third\">\n            <span className=\"header-search-datepicker-title\">When</span>\n            <DatePicker\n              selected={moment(this.state.departureDate)}\n              onChange={this.onChangeDate}\n            />\n          </div>\n          <div className=\"clearfix\" />\n          <button className=\"yellow-button\" onClick={this.search}>\n            Search\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nHeaderSearch.propTypes = {\n  query: PropTypes.object.isRequired\n};\n\nexport default HeaderSearch;\n\n\n\n// WEBPACK FOOTER //\n// ./components/HeaderSearch.js","import React, { Component } from \"react\";\nimport Router from \"next/router\";\n\nimport HeaderSearch from \"../components/HeaderSearch\";\n\nclass Home extends Component {\n  componentDidMount() {\n    Router.prefetch(\"/results\")\n  }\n  \n  render() {\n    return (\n      <div>\n        <HeaderSearch query={this.props.url.query} />\n        <h1 className=\"h1\">Welcome. Look for the flights you wish</h1>\n        <h3 className=\"h3\">Features</h3>\n        <ul className=\"main-ul\">\n          <li>Used both REST and GraphQL API</li>\n          <li>\n            Several libraries used for various purposes (nextjs, axios, apollo, moment,\n            react-select...)\n          </li>\n          <li>Destinations auto-suggest</li>\n          <li>Pagination</li>\n          <li>Persistent URLs - address with search results can be refreshed</li>\n          <li>Simple responsivity</li>\n        </ul>\n      </div>\n    );\n  }\n}\nexport default Home;\n\n\n\n// WEBPACK FOOTER //\n// ./pages/index.js","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = axios\n// module chunks = 2","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = babel-runtime/regenerator\n// module chunks = 2","module.exports = require(\"moment\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment\"\n// module id = moment\n// module chunks = 2","module.exports = require(\"next/link\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"next/link\"\n// module id = next/link\n// module chunks = 2","module.exports = require(\"next/router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"next/router\"\n// module id = next/router\n// module chunks = 2","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = prop-types\n// module chunks = 2","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = react\n// module chunks = 0 2","module.exports = require(\"react-datepicker\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-datepicker\"\n// module id = react-datepicker\n// module chunks = 2","module.exports = require(\"react-select\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-select\"\n// module id = react-select\n// module chunks = 2"],"sourceRoot":""}